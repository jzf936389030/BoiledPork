<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://jzf936389030.github.io/BoiledPork</id>
    <title>BoiledPork</title>
    <updated>2022-09-23T01:48:20.027Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://jzf936389030.github.io/BoiledPork"/>
    <link rel="self" href="https://jzf936389030.github.io/BoiledPork/atom.xml"/>
    <subtitle>vbb-æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://jzf936389030.github.io/BoiledPork/images/avatar.png</logo>
    <icon>https://jzf936389030.github.io/BoiledPork/favicon.ico</icon>
    <rights>All rights reserved 2022, BoiledPork</rights>
    <entry>
        <title type="html"><![CDATA[BeanFactoryè¯¦è§£]]></title>
        <id>https://jzf936389030.github.io/BoiledPork/post/beanfactory-xiang-jie/</id>
        <link href="https://jzf936389030.github.io/BoiledPork/post/beanfactory-xiang-jie/">
        </link>
        <updated>2022-09-22T11:21:59.000Z</updated>
        <content type="html"><![CDATA[<p>BeanFactoryå®šä¹‰äº†IOCå®¹å™¨çš„æœ€åŸºæœ¬å½¢å¼ï¼Œå¹¶æä¾›äº†IOCå®¹å™¨åº”éµå®ˆçš„çš„æœ€åŸºæœ¬çš„æ¥å£ã€‚</p>
<p>é¦–å…ˆå®šä¹‰éœ€è¦ä½¿ç”¨çš„ç±»</p>
<pre><code class="language-java">public class PhoneApplication {
    @Configuration
    static class Config {
        @Bean
        public Bean1 bean1() {
            return new Bean1();
        }

        @Bean
        public Bean2 bean2() {
            return new Bean2();
        }
    }
static class Bean1 {
        private static final Logger log = LoggerFactory.getLogger(Bean1.class);

        public Bean1() {
            log.debug(&quot;æ„é€  Bean1()&quot;);
        }

        @Autowired
        private Bean2 bean2;

        public Bean2 getBean2() {
            return bean2;
        }

       
    }
static class Bean2 {
        private static final Logger log = LoggerFactory.getLogger(Bean2.class);

        public Bean2() {
            log.debug(&quot;æ„é€  Bean2()&quot;);
        }
    }

}
</code></pre>
<p>DefaultListableBeanFactory æ˜¯BeanFactory æœ€é‡è¦çš„å®ç°</p>
<h3 id="ä½¿ç”¨-defaultlistablebeanfactory-æ·»åŠ beançš„å®šä¹‰">ä½¿ç”¨ DefaultListableBeanFactory æ·»åŠ beançš„å®šä¹‰</h3>
<pre><code class="language-java">public static void main(String[] args) {
DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();
        // bean çš„å®šä¹‰ï¼ˆclass, scope, åˆå§‹åŒ–, é”€æ¯ï¼‰
AbstractBeanDefinition beanDefinition =
                BeanDefinitionBuilder.genericBeanDefinition(Config.class)                     .setScope(&quot;singleton&quot;).getBeanDefinition();
        //æ„é€ å¥½åæ”¾å…¥beanFactory
beanFactory.registerBeanDefinition(&quot;config&quot;, beanDefinition);

for (String beanDefinitionName : beanFactory.getBeanDefinitionNames()) {
            System.err.println(beanDefinitionName);
        }
}
</code></pre>
<p>æ‰§è¡Œç»“æœ<br>
<img src="https://jzf936389030.github.io/BoiledPork/post-images/1663846627767.jpg" alt="" loading="lazy"><br>
å‘ç°æ‰“å°å‡ºæ¥çš„åªæœ‰configè¿™ä¸€ä¸ªbeanï¼Œå…¶ä¸­çš„bean1ã€bean2å¹¶æ²¡æœ‰è¢«æ‰“å°å‡ºæ¥ï¼Œä¹Ÿå°±è¯´æ˜äº†bean1ã€bean2 ä¸Šæ–¹æ·»åŠ @Beanæ³¨è§£å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œæ‰€ä»¥å¾—å‡ºç»“è®ºï¼šbeanFactoryå¹¶æ²¡æœ‰è§£æ@Configurationã€@Beanã€@Autowiredçš„åŠŸèƒ½ã€‚</p>
<h3 id="è§£æå„ç§çš„æ³¨è§£å¹¶ä¸æ˜¯beanfactoryçš„åŠŸèƒ½è€Œæ˜¯ç”±å„ç§åå¤„ç†å™¨æä¾›çš„">è§£æå„ç§çš„æ³¨è§£å¹¶ä¸æ˜¯beanFactoryçš„åŠŸèƒ½ï¼Œè€Œæ˜¯ç”±å„ç§åå¤„ç†å™¨æä¾›çš„</h3>
<p>ç»™beanFactoryæ·»åŠ å„ç§åå¤„ç†å™¨</p>
<pre><code class="language-java">AnnotationConfigUtils.registerAnnotationConfigProcessors(beanFactory);
</code></pre>
<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">Config
//è§£æ@Configuration
org.springframework.context.annotation.internalConfigurationAnnotationProcessor
//è§£æ@Autowired
org.springframework.context.annotation.internalAutowiredAnnotationProcessor
//è§£æ@Resource
org.springframework.context.annotation.internalCommonAnnotationProcessor
org.springframework.context.event.internalEventListenerProcessor
org.springframework.context.event.internalEventListenerFactory
</code></pre>
<p>æ­¤æ—¶æ‰“å°ä¿¡æ¯ä¸­å·²ç»å‡ºç°äº†å„ç§åå¤„ç†å™¨ï¼Œä½†bean1ã€bean2å¹¶æ²¡æœ‰è¢«æ‰“å°å‡ºæ¥ï¼Œæˆ‘ä»¬æ¥ä¸‹å¾€ä¸‹çœ‹<br>
æ­¤å‰æˆ‘ä»¬åªæ˜¯æŠŠå„ç§åå¤„ç†å™¨æ·»åŠ åˆ°beanFactoryä¸­ï¼Œä½†å®ƒä»¬å¹¶æ²¡æœ‰å·¥ä½œï¼Œæ¢å¥è¯è¯´å°±æ˜¯ï¼Œæ­¤æ—¶æ·»åŠ çš„åå¤„ç†å™¨å¹¶æ²¡æœ‰è·ŸbeanFactoryäº§ç”Ÿå…³ç³»,æ·»åŠ ä»¥ä¸‹ä»£ç å³å¯è®©ä»–ä»¬äº§ç”Ÿã€‚</p>
<pre><code class="language-java">        //è·å–å„ç§BeanFactoryåå¤„ç†å™¨
beanFactory.getBeansOfType(BeanFactoryPostProcessor.class).values().forEach(beanFactoryPostProcessor -&gt; {
            beanFactoryPostProcessor.postProcessBeanFactory(beanFactory);
        });
for (String beanDefinitionName : beanFactory.getBeanDefinitionNames()) {
            System.err.println(beanDefinitionName);
        }
</code></pre>
<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼šbean1ã€bean2å·²ç»è¢«æ‰“å°å‡ºæ¥äº†</p>
<pre><code class="language-java">Config
org.springframework.context.annotation.internalConfigurationAnnotationProcessor
org.springframework.context.annotation.internalAutowiredAnnotationProcessor
org.springframework.context.annotation.internalCommonAnnotationProcessor
org.springframework.context.event.internalEventListenerProcessor
org.springframework.context.event.internalEventListenerFactory
bean1
bean2
</code></pre>
<p>ä½†æ­¤æ—¶è·å–çš„beanå¹¶ä¸æ˜¯å®Œå…¨å¯ç”¨çš„ï¼Œæˆ‘ä»¬æ‰“å°ä¸‹</p>
<pre><code class="language-java">System.out.println(beanFactory.getBean(Bean1.class).getBean2());
</code></pre>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">20:31:07.628 [main] DEBUG com.pig4cloud.pig.phone.PhoneApplication$Bean1 - æ„é€  Bean1()
null

</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡º bean1 æ„é€ å‡ºæ¥äº†ï¼Œä½†bean2å´æ²¡æœ‰,è¿™æ˜¯å› ä¸º@Autowiredçš„åŠŸèƒ½è¿˜å¹¶æ²¡æœ‰è¢«å®ç°ï¼Œæ­¤å‰æˆ‘ä»¬æ·»åŠ çš„æ˜¯ beanFactoryçš„åå¤„ç†å™¨ï¼Œè§£æçš„æ˜¯@beanï¼Œè¦å¤„ç†@Autowiredã€@Configurationæ³¨è§£ï¼Œåˆ™éœ€è¦æ·»åŠ beançš„åå¤„ç†å™¨ï¼Œä¸‹é¢ä¸Šä»£ç </p>
<pre><code class="language-java">// Bean åå¤„ç†å™¨, é’ˆå¯¹ bean çš„ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µæä¾›æ‰©å±•, ä¾‹å¦‚ @Autowired @Resource ...
beanFactory.getBeansOfType(BeanPostProcessor.class).values().forEach(beanPostProcessor -&gt; {
            beanFactory.addBeanPostProcessor(beanPostProcessor);
        });
</code></pre>
<p>æ‰“å°ç»“æœï¼š</p>
<pre><code class="language-java">20:36:30.885 [main] DEBUG com.pig4cloud.pig.phone.PhoneApplication$Bean1 - æ„é€  Bean1()
20:36:30.896 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'bean2'
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://jzf936389030.github.io/BoiledPork/post/hello-gridea/</id>
        <link href="https://jzf936389030.github.io/BoiledPork/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="https://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>